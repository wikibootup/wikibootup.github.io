<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      코딩1: VIM &middot; wikibootup
    
  </title>

  <script src="https://wikibootup.github.io/js/typed.min.js" type="text/javascript"></script>

  
  <link rel="stylesheet" href="https://wikibootup.github.io/css/app.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://wikibootup.github.io/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://wikibootup.github.io/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://wikibootup.github.io/atom.xml">

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-93792142-1', 'auto');
  ga('send', 'pageview');

</script>


</head>


  <body>

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
  </div>
  <nav class="sidebar-nav">
    <a class="sidebar-nav-item " href="https://wikibootup.github.io/post">Posts</a>

    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  </nav>

  <div class="sidebar-item">
    <p>Made by 
      <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.
    </p>
    <p>&copy; 1. All rights reserved.</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://wikibootup.github.io/" title="Home">wikibootup</a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="post">
  <span class="post-date">Apr 15, 2017</span>
  <h1 class="post-title">코딩1: VIM</h1>
  <div class="font-normal">
    <blockquote>
<p>&ldquo;지도는 아무짝에도 소용없는 거야. 허술한 지도는 허술하니까 소용없고 가장 정교한 지도는 가장 정교해지는 순간 도시가 바뀌어버리니까 소용없는 거야. 그래서 나는 지도 따위는 보지 않아. (&hellip;)&quot;<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
</blockquote>
<h1 id="배경">배경</h1>
<p>좋은 에디터가 많다. 회사 소유의(proprietary) 제품들은 언어별 문법을 자동으로 지원하고<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>, 수많은 기본 기능을 제공한다. 여기에 연동되는 플러그인까지 있어 장점이 많다. 예를 들어 Sublime text, Jetbrains 사의 제품들, Visual studio 등 이미 유명한 제품들이 이러한 기능들을 제공한다. 이러한 에디터들을 체험해보면 혹자들이 Vim이나 Emacs는 CUI 환경의 유물(?) 정도로 여기는 이유를 짐작해볼 수 있다. 나는 Vim 에디터를 주로 사용하지만 이런 관념을 비판할 생각은 없다. 왜냐하면 이 에디터를 다른 에디터 만큼 유용하게 사용하는 수준이 되기까지 소요되는 시간은 적지 않기 때문이다. 따라서 단지 에디터를 수단으로만 사용하고 있다면, 그 목적(코드 등의 텍스트 편집)에 이것을 사용해야 하는 이유의 타당성을 설득하기 어렵다고 생각한다.</p>
<p>Vim은 다른 에디터라면 기본적으로 되어 있을 설정들을 일일이 알아내서 해야한다. 다른 에디터들처럼 설정창이 있어서 쉽게 토글링할 수 있는 것도 아니라서, 비교적 많은 명령어들과 단축키들을 숙지하고, 필요한 것들은 추가해야 한다. 그래서 Vim을 가끔 사용하는 사람들은 코드의 라인 넘버를 표시하는 <code>:set nu</code>와 숨기는 <code>:set nonu</code> 마저 긴가민가 하기 때문에 Vim 사용자들을 보면 고개를 절레절레 흔들기도 한다. 한편, Vim은 <code>Normal, Insert, Visual</code>이라는 편집모드를 가지고 있어서 각 경우에 따라 달라지는 설정들을 이해하는 데에 애를 먹기도 한다 (<code>vmap, imap, nmap</code>으로 인한 차이). 하지만 이러한 편집모드가 나에게는 Vim을 사용하는 가장 큰 이유가 되었다<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>.</p>
<hr>
<h1 id="contents">Contents</h1>
<ul>
<li><a href="#%EB%B0%B0%EA%B2%BD">배경</a></li>
<li><a href="#%EC%86%8D%EB%8F%84">속도</a></li>
<li><a href="#%EB%91%90-%EC%86%90%EC%9D%80-%ED%82%A4%EB%B3%B4%EB%93%9C%EC%97%90">두 손은 키보드에</a>
<ul>
<li><a href="#normal-mode-%EA%B8%B0%EC%A4%80">Normal mode 기준</a></li>
<li><a href="#visual-mode-%EA%B8%B0%EC%A4%80">Visual mode 기준</a></li>
<li><a href="#command-line-mode-%EA%B8%B0%EC%A4%80">Command line mode 기준</a></li>
</ul>
</li>
<li><a href="#%EC%88%9C%EC%88%98-vi-%EC%B6%94%EC%A2%85%EC%9E%90">순수 VI 추종자</a></li>
<li><a href="#colorscheme">Colorscheme</a></li>
<li><a href="#file-navigator">File Navigator</a></li>
<li><a href="#search">Search</a></li>
<li><a href="#edit-helpers">Edit Helpers</a></li>
<li><a href="#%EC%9D%98%EC%A1%B4%EC%84%B1%EC%9D%84-%EA%B0%80%EC%A7%84-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8">의존성을 가진 플러그인</a></li>
<li><a href="#%EB%8B%A8%EC%B6%95%ED%82%A4-%EC%84%A4%EC%A0%95">단축키 설정</a></li>
<li><a href="#neovim">Neovim</a></li>
<li><a href="#%EC%B2%AB%ED%99%94%EB%A9%B4">첫화면</a></li>
<li><a href="#%EA%B8%B0%ED%83%80">기타</a>
<ul>
<li><a href="#%EA%B8%B0%ED%83%80-%EC%84%A4%EC%A0%95">기타 설정</a></li>
<li><a href="#%ED%95%84%EC%9A%94%EC%97%90-%EC%9D%98%ED%95%9C-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8">필요에 의한 플러그인</a></li>
</ul>
</li>
<li><a href="#epilogue">Epilogue</a></li>
</ul>
<hr>
<h1 id="속도">속도</h1>
<p>내가 Vim을 사용하면서 가장 우선순위로 지키려고 하는 것은 기능이 아니라 속도이다. 아무리 많은 기능이 있어도 속도가 느리면 굳이 Vim을 사용할 필요가 없다고 생각하고 있다. 대체로 Vim의 속도를 느리게 만들었던 것이 크게 2가지였는데, 첫 째가 플러그인이었고 둘 째가 I/O 이벤트 자동 명령어(autocmd)였다.</p>
<p>&lsquo;플러그인&rsquo;부터 말하자면, 아무리 유용한 플러그인이라도 작업을 느리게 만드는 기능은 추가하지 않았다. 그래서 <a href="https://valloric.github.io/YouCompleteMe/">YouCompleteMe</a>와 같은 자동완성도구와 문법을 검사하는 <a href="https://github.com/vim-syntastic/syntastic">Syntastic</a>은 그 유용한 기능에도 불구하고 사용할 수가 없었다. 뿐만 아니라 있으면 좋지만 없어도 괜찮은 플러그인들은 &lsquo;속도 우선&rsquo;과 가급적 단순하게 사용하겠다는 목적을 지키기 위해서 과감히 사용하지 않기로 했다. <a href="https://wakatime.com">Wakatime</a>이나 <a href="https://github.com/nathanaelkane/vim-indent-guides">vim-indent-guides</a> 등 수많은 플러그인들은 그런 이유로 제외하였다. 뒤에서 이야기하겠지만 자동완성과 문법 검사는 해결하였다.</p>
<p>다음으로 I/O 이벤트 자동 명령어(autocmd)를 말하자면, <code>autocmd</code> 자체가 특정 I/O 이벤트 시에 수행하는 명령어를 말하므로 부하를 준다는 것을 알 수 있다. 따라서 굳이 없어도 되는 자동 명령어(autocmd)들은 모두 제거하였다. 또한 <code>autocmd</code>는 반드시 <code>Augroup</code>으로 감싼 뒤 <code>au!(=autocmd!)</code>를 설정하여 초기화하였다. 그 이유는 <code>autocmd</code>가 한 번 설정되면 알아서 스마트하게 중복설정을 방지하지는 않아서, 그 명령어가 저장된 파일을 읽어올 때마다 중복으로 설정이 되어 프로세스를 느리게 만들기 때문이다. 그래서 자동 명령어 패턴은 아래와 같이 구현하였다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">AuGroupName</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">au</span>!<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span> ...<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">END</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>이 두가지 외에도 사소한 이슈들이 있었다. 예를 들면, 속도 우선을 위하여 모듈화를 위한 파일 격리도 포기하였다. 기존에는 모듈화를 유지하겠다는 이유로 설정의 성격(플러그인 설정, 단축키 설정 등)에 따라 여러 파일로 분리한 뒤 <code>runtime!</code>을 이용하여 파일을 로드하는 방식이었다. 하지만 이것이 약간의 시간 지연을 일으킨다는 것을 알게 되었고, 고민 끝에 파일 한 개에 모든 설정을 넣기로 결정하였다.</p>
<p>또한 Fold 방식 역시 수정해야 했다. 기존에는 Syntax 방식으로 작업을 하고 있었는데, 이것이 프로세스를 느리게 만든다는 것을 알게되어 현재는 Indent 방식으로 바꾸어 사용중이다.</p>
<p>Syntax highlighting은 프로세스에 부하를 주는 동작이지만 반드시 필요하므로 적절한 추가 설정이 필요하다. 이에 대해서는 오해의 소지가 있을 수 있는 설명을 하는 대신 아래의 코드를 첨부할테니 <code>:help</code>을 통하여 직접 공식문서를 확인해보기 권한다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;Speed up Syntax Highlighting</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">nocursorcolumn</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">nocursorline</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;set lazyredraw &#34;It makes no effect(or more slow?!) from personal experience</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">ttyfast</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">norelativenumber</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">synmaxcol</span>=<span style="color:#ae81ff">400</span> <span style="color:#75715e">&#34;set enough(but not too long) column length.</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">syn</span> <span style="color:#a6e22e">sync</span> <span style="color:#a6e22e">minlines</span>=<span style="color:#ae81ff">50</span> <span style="color:#a6e22e">maxlines</span>=<span style="color:#ae81ff">50</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>마지막으로 Vim의 속도 벤치마킹에 관심이 있다면 <a href="%22http://stackoverflow.com/a/12216578">간단한 테스트</a>를 해보거나 <a href="https://github.com/junegunn/vim-startuptime-benchmark">벤치마크 플러그인</a>을 시도해보자.</p>
<h1 id="두-손은-키보드에">두 손은 키보드에</h1>
<p>최근에는 또 다른 Vim 애호가 분을 알게 되었다. &lsquo;<strong>두 손은 키보드에</strong>&rsquo;, 이 말은 그 분께서 해주신 조언이었다. 그 말을 듣고 보니 내가 두 손을 키보드에서 자주 떼고 있다는 사실을 알게 되었다. 즉, 작업 중에 마우스에 손이 가는 일이 생각보다 많았다. 앞서 <a href="#%EB%B0%B0%EA%B2%BD">배경</a>에서 나는 &lsquo;편집모드&rsquo;가 유용하다고 언급한 바 있다. 이 유용함 덕분에 두 손을 키보드에서 떼지 않고도 할 수 있는 일들이 많은 것이었는데, 깨닫지 못하고 있다가  반성을 하는 계기가 되었다. 이 소주제에서는 그 편집모드를 유용하게 사용할 수 있는 사소하지만 유용한 잔재주들에 대해서 요약된 리스트 형태로 소개하고자 한다.</p>
<hr>
<h3 id="normal-mode-기준">Normal mode 기준</h3>
<ul>
<li>
<p>텍스트를 삭제할 때, <code>delete</code> 키 또는 <code>backspace</code>만 사용하고 있다면</p>
<ul>
<li><code>x</code>로 현재 커서의 문자를 제거하고, <code>X</code>로 이전 커서의 문자를 제거</li>
</ul>
</li>
<li>
<p>창(Pane)에서 현재 커서가 위치한 줄은 유지하되 창에 보이는 세로줄만 이동하러면</p>
<ul>
<li><code>z.</code>로 창 중앙, <code>zt</code>로 창 맨 위, <code>zb</code>로 창 맨 아래로 점프</li>
<li>또는 <code>&lt;C-e&gt;</code>로 올리고, <code>&lt;C-y&gt;</code>로 내려서 미세조정</li>
</ul>
</li>
<li>
<p>창은 그대로 두고 커서가 위치한 줄만 이동하려면</p>
<ul>
<li><code>H</code>, <code>M</code>, <code>L</code>로 각각 위, 중간, 아래로 이동</li>
</ul>
</li>
<li>
<p>창을 이동하려면</p>
<ul>
<li>반 아래 <code>&lt;C-d&gt;</code>, 반 위<code>&lt;C-u&gt;</code></li>
</ul>
</li>
<li>
<p>어떤 이유로 커서를 다른 위치로 점프했는데 다시 이전 위치로 돌아와야 한다면,</p>
<ul>
<li><code>&lt;C-o&gt;</code></li>
</ul>
</li>
<li>
<p>점프를 했는데 잘못 했다면 (&lsquo;undo the jump&rsquo;를 해야 한다면)</p>
<ul>
<li><strong>``</strong></li>
</ul>
</li>
<li>
<p>마지막으로 수정했던 줄로 돌아가고 싶다면</p>
<ul>
<li><code>'.</code></li>
</ul>
</li>
<li>
<p>텍스트를 기준으로 이동할 때에는</p>
<ul>
<li>단락 단위의 이동 시 <code>{</code>, <code>}</code></li>
<li>문장 단위의 이동 시 <code>(</code>, <code>)</code></li>
<li>단어 단위의 이동 시 <code>w</code>, <code>b</code></li>
<li>여러개를 이동하려면 앞에 숫자만 붙여서, 예를 들면 <code>3{</code>, <code>5w</code></li>
</ul>
</li>
<li>
<p>줄을 기준으로 이동할 때에는</p>
<ul>
<li><code>0</code>로 줄의 맨 처음, <code>$</code>로 줄의 맨 마지막</li>
</ul>
</li>
<li>
<p>커서가 위치한 단어를 모두 찾아 커서를 이동하려면</p>
<ul>
<li>아래 방향 <code>*</code>, 위 방향 <code>#</code>
<ul>
<li><code>*</code>은 찾기만 해서 <code>n</code>으로 점프해야 하는 반면, <code>#</code>은 <code>N</code> 역할도 대신한다.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>현재 커서가 어떤 괄호(<code>(), {}, []</code>) 위에 위치해 있고, 그것과 매칭하는 괄호로 커서를 이동하고 싶다면</p>
<ul>
<li><code>%</code></li>
</ul>
</li>
<li>
<p>함수의 선언 위치로 이동( 정확하지는 않으나 <code>#</code>, <code>*</code>보다 유용 )</p>
<ul>
<li>gd (local definition)</li>
<li>gD (global definition)</li>
</ul>
</li>
</ul>
<h3 id="visual-mode-기준">Visual mode 기준</h3>
<ul>
<li>
<p>블록을 하는 몇가지 방법</p>
<ul>
<li>a가 바깥 포함이고, i가 안쪽
<ul>
<li>html 태그의 경우
<ul>
<li><code>vat</code>는 여는 태그와 닫는 태그를 포함하여 모든 텍스트를 블록</li>
<li><code>vit</code>는 두 태그 사이에 텍스트만 블록
<ul>
<li>예를 들면 <code>&lt;div&gt;</code><strong>이 부분에 해당하는 내용</strong><code>&lt;/div&gt;</code>이 블록됨</li>
</ul>
</li>
</ul>
</li>
<li>비슷한 원리로 <code>{}, &lt;&gt;, (), '', &quot;&quot;</code> 등에 응용 가능</li>
<li>사실 이건 Visual mode 뿐 아니라 다른 곳에도 적용 가능
<ul>
<li>Yank:  <code>yaw</code>, <code>yiw</code></li>
<li>Cut(delete):  <code>daw</code>, <code>diw</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>클립보드에 복사하는 방법</p>
<ul>
<li>클립보드에 담기는 레지스터에 저장은 영역을 설정하여 <code>:'&lt;,'&gt;y+</code></li>
</ul>
</li>
</ul>
<h3 id="command-line-mode-기준">Command line mode 기준</h3>
<p>사실 모드가 하나 더 있다. <a href="http://vimdoc.sourceforge.net/htmldoc/cmdline.html">cmdline</a>이라 불리는 커맨드라인 모드이다. 여기서는 의외로 잘 안 알려진 듯한 몇가지만 소개하겠다.</p>
<ul>
<li>단어 검색
<ul>
<li>대소문자에 무관한 검색은
<ul>
<li><code>/\c</code></li>
</ul>
</li>
</ul>
</li>
<li>단어 수정 방법 가운데 의외로 안 알려진 방법
<ul>
<li>모든 단어 수정 시 <code>:%s/&lt;&gt;/&lt;&gt;/g</code>
<ul>
<li><code>g</code>를 안 붙이면 줄 마다 검색 패턴과 일치한 1개만 적용된다.</li>
</ul>
</li>
<li>선택적 단어 수정 시 <code>:%s/&lt;&gt;/&lt;&gt;/c</code>
<ul>
<li>c는 &lsquo;confirm&rsquo;의 약자</li>
</ul>
</li>
<li>선택적으로 대소문자 무관한 모든 단어 수정 시 <code>:%s/&lt;&gt;/&lt;&gt;/gci</code></li>
</ul>
</li>
</ul>
<p>부가적으로 커맨드라인 모드에서는 대소문자가 약간 신경이 쓰이는 문제이다. 이에 대해서는 몇 번만 단어를 검색하고 수정(replace)하고 자동완성을 해보아도 알 수 있는데, 예를 들면 찾을 때는 대소문자를 구분하고 싶지만 자동완성은 구분하지 않기를 원하는 경우가 있을 수 있다. 이를 해결하기 위해서는 몇가지 설정을 함께 해주어야 한다. 그 내용이 간단하므로 코드로 대신하겠다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;Case insensitve in cmdline</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;NOTE: Must be set for other insensitve configurations</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">ignorecase</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;Case sensitive when search &amp; replace</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">smartcase</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;Case insensitive when cmdline tab autocompletion</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">infercase</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><hr>
<ul>
<li>거의 언제나 그렇듯 <a href="http://vim.wikia.com/wiki/All_the_right_moves">더 좋은 문서</a>가 있으니 참고하자.</li>
<li>메뉴얼에는 대문자로 되어있는 명령어들이라도 만약, 해당 문자에 대해서 소문자 구현이 없다면, 소문자로도 동일한 명령을 할 수 있다. 위의 요약설명에서 원래는 대문자인데 굳이 소문자로 나타낸 명령어들은 그런 이유에서 대문자로 바꾸지 않았다.</li>
</ul>
<p>이처럼 사소하지만 유용한 명령어들이 많다. 만일 위에서 설명한 검색 및 점프 방법보다 더 자유자재로 움직이고 싶다면 자신만의 방법(?)을 구현하거나 <a href="https://github.com/easymotion/vim-easymotion">vim-easymotion</a>이나 <a href="https://github.com/justinmk/vim-sneak">vim-sneak</a>와 같은 플러그인들을 적용해볼 수 있을 것이다.</p>
<h1 id="순수-vi-추종자">순수 VI 추종자</h1>
<p>순수 VI 추종자들이 있다. 그들은 화살표 키 대신 <code>h,j,k,l</code>을, PageUp/Down 대신 <code>C-u</code>, <code>C-d</code>을, <code>Delete</code> 키 대신 <code>x</code>, <code>X</code>만을 사용한다. 나의 경우에는 이것도 쓰고 저것도 쓰고 있다. 그때 그때 손이 가까운 곳에 있는 것으로, 편한대로 쓴다.</p>
<p>커스텀 키바인딩은 가급적 VI/VIM에서 기본적으로 바인딩되어있는 키는 피해서 지정하려고 한다. 예를 들어, 주로 Ctrl 키와 관련된 키들은 기본 바인딩 키일 확률이 높아서 피하는 식이다. 대신 많이 이용하는 Prefix 키는 Shift, Leader이다. 이렇게 하는 이유는 VI의 기본키를 사용하려는 이유도 있지만, 공동으로 작업해야 하는 서버 환경이나 페어코딩 시에 혼란을 줄이고 호환성을 유지하려는 이유가 더 크다.</p>
<h1 id="colorscheme">Colorscheme</h1>
<p>배경화면(Colorscheme)은 매우 중요하다. 배경화면이 단순히 보이는 모습이 아니라 Syntax highlighting도 결정해서 각 언어(c,js,py,go,html,css,&hellip;)들과 수많은 플러그인들의 효과와 어울려야 하기 때문이다. 단순히 어울리는 것 이상의 문제가 발생할 수 있는데, 예를 들면 텍스트가 너무 밝거나 어두워서 안보이는 경우이다. 배경화면과 관련해서는 <a href="https://draculatheme.com/vim/">Dracula</a>, <a href="https://github.com/tomasr/molokai">Molokai</a>, <a href="https://github.com/junegunn/seoul256.vim">Seoul256</a> 등 수많은 테마가 있다. 개인적으로 가장 눈에 편한 Colorscheme은 <a href="https://github.com/altercation/vim-colors-solarized">Solarized</a>이어서 오래 사용했지만 현재는 텍스트 간 대비(판독성)가 더 중요하다고 판단하여 vim에는 <a href="https://github.com/sickill/vim-monokai">monokai</a>, iterm에는 <a href="https://github.com/mbadolato/iTerm2-Color-Schemes">iTerm2-Color-Schemes</a>이 제공하는 monokai-soda를 적용한 상태이다.</p>
<p>Iterm과의 호환을 언급하면, Iterm에서 배경화면을 설정했어도 Vim에서는 따로 배경화면을 명시적으로 지정하는게 좋다. 왜냐하면 위에서 말한 Syntax highlighting의 문제 때문이다.</p>
<p>만약, 사용하는 테마가 16 color 이상을 지원한다면 그것을 선택하자. 더 효과적인 시각 효과(특히 Syntax highlighting)를 경험할 수 있다. 예를 들어, Solarized를 사용한다면 256 color를 설정해보자.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">background</span>=dark<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">colorscheme</span> <span style="color:#a6e22e">solarized</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;Set term color palette to 256, and auto</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">g</span>:<span style="color:#a6e22e">solarized_termcolors</span> = <span style="color:#ae81ff">256</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;Set the default color with the best option for ITERM2 expliciltly.</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">g</span>:<span style="color:#a6e22e">solarized_termtrans</span> = <span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h1 id="file-navigator">File Navigator</h1>
<p>너무나도 유명한 <a href="https://github.com/scrooloose/nerdtree">Nerdtree</a> 외에도 <a href="https://github.com/junegunn/fzf">FZF</a> 등의 증분검색(Incremental Search) 도구를 활용하면 현재 디렉토리 위치라는 한계를 넘어 단숨에 원하는 파일을 찾아 열 수가 있다. 둘 다 매우 유용하므로 <code>:help</code> 명령어를 통해 관련 문서를 읽어보는게 좋다. 그 외에 유용하게 사용하는 것은 <a href="https://github.com/vim-scripts/mru.vim">MRU</a>이다. 이것은 파일 검색 도구라고 하기는 그렇지만 이 목적으로 사용하기에 매우 유용하다. 이것은 최근 열어본 파일들을 저장하여 그 목록을 보여주는 플러그인이다. 별 것 아닌듯 보이지만 짝코딩처럼 빠른 코드리딩과 디버깅이 필요한 시점에 진가를 발휘한다. 여기까지만 해도 Vim을 IDE의 파일 뷰처럼(또는 그 이상) 되도록 구축할 수가 있다. 이상의 플러그인들을 이용하여 파일들을 여러 탭에 열어두거나 최근 사용한 파일들에 손쉽게 접근할 수가 있다.</p>
<h1 id="search">Search</h1>
<p>C 언어 개발자라면 Ctags에 익숙할 것이다. 나는 ctags를 알게되자 마자 대단하다고 생각했는데, 그래픽 하나 없는 CUI 환경에서 단어 검색 및 내비게이션이 가능하였기 때문이다. 하지만 놀라움도 얼마 가지는 못했는데, 코드에 변화가 있을 때 마다 매번 최소 10초 이상의 시간이 걸리는 태그 파일을 생성해주어야 했기 때문이다. 후에 <a href="https://github.com/fntlnz/atags.vim">Atags</a> 등을 도입하여 자동으로 태그 파일을 생성하는 작업도 시도해보았지만 태그를 생성하기 위해 과도하게 돌아가는 프로세스 때문에 사용을 중단한 상태이다. 그럼에도 태그 기능은 코드의 수정이 적거나 제한된 환경에서는 유용한 도구임에 틀림 없다고 생각하고 있다. 대신 이쪽 방면의 유명한 라이브러리인 <a href="https://github.com/ggreer/the_silver_searcher">Silver searcher</a>처럼 검색으로 방향을 선회하였다. 나는 비슷한 도구인 <a href="https://github.com/mileszs/ack.vim">Ack</a>를 기반으로 하되, Ack의 속도를 훨씬 뛰어넘은 <a href="https://github.com/jremmen/vim-ripgrep">rg</a>를 통합<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>하여 사용하고 있다 (방법은 아래 코드 참조). 아직 다른 유명한 IDE처럼 여러 파일에서 필요한 단어를 찾아 이동까지 해주는 쿨한 방법은 도입하지 못했다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;RipGrep integration</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;http://www.wezm.net/technical/2016/09/ripgrep-with-vim/</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">if</span> <span style="color:#a6e22e">executable</span>(<span style="color:#e6db74">&#34;rg&#34;</span>)<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">g</span>:<span style="color:#a6e22e">ackprg</span> = <span style="color:#e6db74">&#39;rg --vimgrep --no-heading -i&#39;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">endif</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h1 id="edit-helpers">Edit Helpers</h1>
<p>코드 편집 시에 진정으로 유용한 기능들은 바로 편집도우미(Edit Helper)들일 것이다. 예를 들면 아래와 같은 경우,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;apple&#34;</span>: <span style="color:#e6db74">&#34;1&#34;</span>,
  <span style="color:#f92672">&#34;pineApple&#34;</span>: <span style="color:#e6db74">&#34;20&#34;</span>,
  <span style="color:#f92672">&#34;banana&#34;</span>: <span style="color:#e6db74">&#34;4&#34;</span>
}
</code></pre></div><p>위의 코드에서 &lsquo;:&lsquo;에 맞추어 열을 정리하고 싶으면 <a href="https://github.com/godlygeek/tabular">Tabular</a>를 사용할 수 있다. 적용하고 싶은 부분을 Visual mode로 블록한 뒤에 <code>:'&lt;,'&gt;Tabularize/:</code>를 입력해주기만 하면 아래처럼 된다<sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;apple&#34;</span>     : <span style="color:#e6db74">&#34;1&#34;</span>,
  <span style="color:#f92672">&#34;pineApple&#34;</span> : <span style="color:#e6db74">&#34;20&#34;</span>,
  <span style="color:#f92672">&#34;banana&#34;</span>    : <span style="color:#e6db74">&#34;4&#34;</span>
}
</code></pre></div><p>아니면 이런 것도 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">html:5 &gt; div.col-xs-12*5 &gt; div.something
</code></pre></div><p>이게 뭔가 싶다면 <a href="https://github.com/mattn/emmet-vim">Emmet-vim</a> 플러그인을 설치한 뒤, <code>&lt;C-y&gt;,</code>을 입력해보자 (Insert 모드에서도 기본 적용되는 단축키이다).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en&#34;</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
  &lt;<span style="color:#f92672">title</span>&gt;&lt;/<span style="color:#f92672">title</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-xs-12&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;something&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-xs-12&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;something&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-xs-12&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;something&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-xs-12&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;something&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;col-xs-12&#34;</span>&gt;
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;something&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>보다시피 가벼운 테스트나 반복적인 블록 사용 시에 특히 유용한 도구이다.</p>
<p>이런 자동 수정 외에 커서를 여러 라인에 만들 수 있게 하는 <a href="https://github.com/terryma/vim-multiple-cursors">Vim multiple cursor</a>와 같은 플러그인을 이용하면 Sublime text의 전유물인 줄로만 알았던 기능도 구사할 수 있다. 특히 Multiple cursor 모드에서 Visual block이나 <code>*</code>, <code>#</code> 등의 Vim 고유 기능을 접목하면 매우 유용한 도구가 된다.<sup id="fnref:6"><a href="#fn:6" class="footnote-ref" role="doc-noteref">6</a></sup></p>
<p>이처럼 유용한 기능을 쉽게 사용 가능한 플러그인들도 있지만, 비교적 설정이 어려운 것들도 있다. 위에서 언급했던 자동완성(Auto Completion)과 문법 검사(Linting) 기능이다. 현재 자동완성은 <a href="https://github.com/Shougo/deoplete.nvim">Deoplete</a>과 <a href="https://github.com/roxma/nvim-completion-manager">nvim-completion-manager</a>을 이용하고 있다.</p>
<p>Deoplete의 경우 처음 환경설정을 하는 과정에서 이것이 자동완성을 위해 사용해야 하는 기본 Python 설정 경로가 제대로 적용이 안되었던 지라 계속 애를 먹었다. 빠른 작업을 위해서 반드시 이 기능이 필요했기 때문에 삽질을 한 끝에 시스템 파이썬 경로를 지정한 뒤에야 문제가 해결되었다. 아래처럼 길고 하드코딩된 경로가 나라고 좋을리 없겠지만 가능한 시간 범위에서 해결 방법을 찾기 어렵다고 판단하여 보류중이다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">g</span>:<span style="color:#a6e22e">python_host_prog</span> = <span style="color:#e6db74">&#39;/Library/Frameworks/Python.framework/Versions/2.7/bin/python&#39;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">g</span>:<span style="color:#a6e22e">python3_host_prog</span> = <span style="color:#e6db74">&#39;/Library/Frameworks/Python.framework/Versions/3.5/bin/python3&#39;</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>일단 기능이 동작한다면 이후로는 어렵지 않다. 약간의 설정만 더해주면 각 언어별 자동완성을 유용하게 사용할 수 있다. 예를 들면 Javscript를 연동하기 위해서 Tern을 사용할 수 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;JAVASCRIPT</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">Plug</span> <span style="color:#e6db74">&#39;ternjs/tern_for_vim&#39;</span>, { <span style="color:#e6db74">&#39;do&#39;</span>: <span style="color:#e6db74">&#39;npm install&#39;</span> }<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">Plug</span> <span style="color:#e6db74">&#39;carlitux/deoplete-ternjs&#39;</span>, { <span style="color:#e6db74">&#39;do&#39;</span>: <span style="color:#e6db74">&#39;npm install -g tern&#39;</span> }<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Deoplete을 사용하면서 타이핑하는 과정에서 자동완성 작업을 위하여 키보드 입력기능이 멈춘다거나 하지는 않게 되었지만, 이것만으로는 불충분했다. 자동완성이 되는 속도보다 그냥 타이핑하는 속도가 더 빠를 때가 많았기 때문이다. 내가 원하는 것은 10글자의 단어를 입력해야 할 때, 3글자도 채 입력하기 전에 자동완성이 가능한 것이었다. 그래서 nvim-completion-manager을 Deoplete과 함께 사용하게 되었다. nvim-completion-manager은 빠르지만 아직 다양한 언어를 지원하지 않았기 때문에 Deoplete을 함께 사용하기로 했다.</p>
<p>자동완성을 위한 popup 메뉴의 동작키는 Enter를 선택으로 두었고, Up/down은 추가적으로 Page up/down, 그리고 Tab/S-Tab으로도 가능하도록 매핑을 추가하였다. 이를 위하여 아래처럼 명령어를 두었다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34; Popup menu, autocomplete</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;enter as selection, not new line</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">inoremap</span> &lt;<span style="color:#a6e22e">expr</span>&gt; &lt;<span style="color:#a6e22e">CR</span>&gt; <span style="color:#a6e22e">pumvisible</span>() ? <span style="color:#e6db74">&#34;\&lt;C-Y&gt;&#34;</span> : <span style="color:#e6db74">&#34;\&lt;CR&gt;&#34;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34; s-Tab as Up</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">inoremap</span> &lt;<span style="color:#a6e22e">expr</span>&gt; &lt;<span style="color:#a6e22e">Tab</span>&gt; <span style="color:#a6e22e">pumvisible</span>() ? <span style="color:#e6db74">&#34;\&lt;Down&gt;&#34;</span> : <span style="color:#e6db74">&#34;\&lt;Tab&gt;&#34;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">inoremap</span> &lt;<span style="color:#a6e22e">expr</span>&gt; &lt;<span style="color:#a6e22e">s</span>-<span style="color:#a6e22e">Tab</span>&gt; <span style="color:#a6e22e">pumvisible</span>() ? <span style="color:#e6db74">&#34;\&lt;Up&gt;&#34;</span> : <span style="color:#e6db74">&#34;\&lt;s-Tab&gt;&#34;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">inoremap</span> &lt;<span style="color:#a6e22e">expr</span>&gt; &lt;<span style="color:#a6e22e">PageDown</span>&gt; <span style="color:#a6e22e">pumvisible</span>() ? <span style="color:#e6db74">&#34;\&lt;Down&gt;&#34;</span> : <span style="color:#e6db74">&#34;\&lt;PageDown&gt;&#34;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">inoremap</span> &lt;<span style="color:#a6e22e">expr</span>&gt; &lt;<span style="color:#a6e22e">PageUp</span>&gt;   <span style="color:#a6e22e">pumvisible</span>() ? <span style="color:#e6db74">&#34;\&lt;Up&gt;&#34;</span> : <span style="color:#e6db74">&#34;\&lt;PageUp&gt;&#34;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;&#34;&#34; Commented because I need to keep default configuration</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;up -&gt; close popup and up</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;inoremap &lt;expr&gt; &lt;Up&gt; pumvisible() ? &#34;\&lt;C-e&gt;\&lt;Up&gt;&#34; : &#34;\&lt;Up&gt;&#34;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;down -&gt; close popup and down</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;inoremap &lt;expr&gt; &lt;Down&gt; pumvisible() ? &#34;\&lt;C-e&gt;\&lt;Down&gt;&#34; : &#34;\&lt;Down&gt;&#34;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;&#34;&#34;</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><ul>
<li>위의 코드는 플러그인 매니저 가운데 <a href="https://github.com/junegunn/vim-plug">Vim-plug</a>를 이용한 형태이다. 이것은 비동기적 플러그 작업(설치, 수정, 삭제 등) 뿐 아니라 위처럼 <code>npm install</code>과 같은 후처리 작업을 하는 데에 있어서도 좋다.</li>
</ul>
<p>사소한 버그들은 임시방편으로 대체한 상태이다. 예를 들면, html 자동 완성은 <a href="https://github.com/othree/html5.vim">html5.vim</a>과 충돌을 일으키기도 하고, 자동완성 개수 제한 등의 제약을 무시해 버려서 명시적으로 해제한 상태이다. 그럼에도 자동완성은 잘 된다. 아마 <code>omnicomplete</code>이 어딘가에 적용되어 있는게 아닐까 싶다. 모든 것을 이해하기에는 아직 턱없이 부족하다.</p>
<p>문법 검사 도구로는 <a href="https://github.com/neomake/neomake">Neomake</a>를 이용하고 있다. 파일을 열 때마다 문법 검사를 진행하면 열 때마다 불쾌한 지연이 발생하여 파일 저장 시에만 기능(문법 검사)이 작동하도록 수정하였다. 대신 필요할 때에는 명시적으로 창을 열어서 문법 경고/오류 항목들을 확인해보고 있다. 만약, 자바스크립트 작업을 위하여 <code>jshint</code>를 사용하도록 설정하고 싶다면 아래와 같은 코드로 설정할 수 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">g</span>:<span style="color:#a6e22e">neomake_javascript_jshint_maker</span> = {<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>    \ <span style="color:#e6db74">&#39;args&#39;</span>: [<span style="color:#e6db74">&#39;--verbose&#39;</span>],<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>    \ <span style="color:#e6db74">&#39;errorformat&#39;</span>: <span style="color:#e6db74">&#39;%A%f: line %l\, col %v\, %m \(%t%*\d\)&#39;</span>,<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>    \ }<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">g</span>:<span style="color:#a6e22e">neomake_javascript_enabled_makers</span> = [<span style="color:#e6db74">&#39;jshint&#39;</span>]<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h1 id="의존성을-가진-플러그인">의존성을 가진 플러그인</h1>
<p>위의 소주제에서 Deoplete과 Tern처럼 플러그인 간에 의존성을 가진 경우가 종종 있다. 예를 하나 더 들어보면, <a href="https://github.com/itchyny/lightline.vim">Lightline</a>과 <a href="https://github.com/tpope/vim-fugitive">Vim-fugitive</a>가 있다. 나는 <a href="https://github.com/powerline/powerline">Powerline</a>의 인기에도 불구하고 Lightline을 사용하는데, 그 이유는 역시 속도 때문이다. Lightline은 가볍고 빠른 대신 무언가를 더 설정을 해주어야 유용해진다. 나의 경우에는 Vim-fugitive를 이용하여 Git 레포지토리 하의 브랜치(master, develop)나 작업하는 파일들의 상태(untraced, modified, staged) 등을 표시하는 기능을 통합하였다. 구현 모습은 아래 소주제 <a href="#%EC%B2%AB%ED%99%94%EB%A9%B4">첫화면</a>에서 확인할 수 있다.</p>
<h1 id="단축키-설정">단축키 설정</h1>
<ul>
<li>Ack를 이용하여 검색시에는 현재 버퍼 내에 검색이냐, 아니면 경로내의 모든 파일들에 대한 검색이냐에 따라서 단축키를 분리하였다. 현재 디렉토리로부터 모든 파일들에 대해서 검색을 하기 위해서 <code>&lt;S-f&gt;</code>에 매핑하였다.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;Ack.vim</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;type Ack, then it makes Ack!, because [I don&#39;t want to jump to the first result automatically.]</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;https://github.com/mileszs/ack.vim#i-dont-want-to-jump-to-the-first-result-automatically</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">cnoreabbrev</span> <span style="color:#a6e22e">Ack</span> <span style="color:#a6e22e">Ack</span>!<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">nnoremap</span> &lt;<span style="color:#a6e22e">Leader</span>&gt;<span style="color:#a6e22e">a</span> :<span style="color:#a6e22e">Ack</span>!&lt;<span style="color:#a6e22e">Space</span>&gt;<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34; search from current directory</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">map</span> &lt;<span style="color:#a6e22e">S</span>-<span style="color:#a6e22e">f</span>&gt; :<span style="color:#a6e22e">Ack</span> \<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34; search from current file</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34; @todo - remap key</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34; map &lt;C-f&gt; :LAckWindow! -H \</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><ul>
<li>폴딩을 쉽게 하기 위하여 펴기는 <code>&lt;Tab&gt;</code>으로, 접기는 <code>&lt;S-Tab&gt;</code>으로 지정하였다. * 펼 때는 커서 위치에 접혀있는(folded) 줄을 재귀적으로 모두 펴고(<code>zO</code>), 접을 때는 커서로부터 동일 Indent 미만인 줄을 만나기 이전의 줄까지 모두 접도록 설정하였다 (<code>zc</code>).</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;Folding</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;fold (ex: level=&lt;input&gt;&lt;CR&gt;)</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">nmap</span> <span style="color:#a6e22e">fd</span> :<span style="color:#a6e22e">setlocal</span> <span style="color:#a6e22e">foldlevel</span>=<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;Toggle</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">nmap</span> &lt;<span style="color:#a6e22e">Tab</span>&gt; <span style="color:#a6e22e">zO</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">nmap</span> &lt;<span style="color:#a6e22e">s</span>-<span style="color:#a6e22e">Tab</span>&gt; <span style="color:#a6e22e">zc</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>위처럼 자주 쓰는 것들에 대하여 키보드 매핑을 하여 편리하게 사용중이다. 하지만 안쓰는 자동 명령어(autocmd)를 굳이 남기지 않듯이, 안쓰는 단축키 역시 굳이 남기지 않고 지우고 있다.</p>
<h1 id="neovim">NeoVim</h1>
<p>다른 에디터들이 1년 단위로 버전이 바뀌듯 Vim 역시 그를 둘러싼 수많은 플러그인들이 개선되거나 대세가 바뀐다. 심지어 Vim 조차 다른 유사 Vim(?)으로 대체하여 사용하기도 한다. 여러가지가 있는데, 나의 경우에는 아직 터미널에서 분리되어 실행되는 타입인 Macvim이나 <a href="https://github.com/rhysd/NyaoVim">Nyaovim</a>은 고려하지 않고 있다<sup id="fnref:7"><a href="#fn:7" class="footnote-ref" role="doc-noteref">7</a></sup>. 대신 나는 <a href="https://neovim.io/">Neovim</a>을 이용하고 있다. Neovim 측에서는 자신들의 에디터로 갈아타야 하는 이유를 몇가지 제시하는데, 나에게 피부로 와닿았던 부분은 Neovim 환경을 전제로 만들어진 유용한 플러그인들이었다. Neovim의 비동기 프로세스 기능을 잘 활용한 플러그인들은 기존의 유용하나 느렸던 플러그인들을 대체하는 것들이 많다. 에디터 사용자 입장에서는 Vim과의 인터페이스 차이가 없어서 그런지 사용하는 데에 이질감은 전혀 느껴지지 않았다. 단지 이것을 맨 처음 설치했을 때가 약간 당황스러웠는데, 그 이유는 기존 Vim처럼 <code>~/.nvimrc</code>와 같은 환경설정 파일을 기본으로 사용하지 않았기 때문이다. 대신 <code>~/.config/nvim/init.vim</code>이 있어서 <code>~/.vimrc</code>처럼 생각하고 작업을 하면 된다는 것을 알게 되었다.</p>
<p>Neovim 환경에서는 비동기 방식의 프로세스를 이용한 플러그인들을 통하여 기존의 Vim 환경에서 보다 더 효과적인 작업을 할 수가 있다. 이것을 사용하면서 내가 얻은 가장 큰 효과도 여기에 있다. 각 기능들이 적용되는 <code>대기 시간이 감소</code>했다.</p>
<p>그리고 사소하지만 Neovim에서는 굳이 에디터의 모든 창을 닫고 터미널로 빠져나가지 않아도 Vim 내부에서 터미널을 열어 작업을 할 수가 있다. 덕분에 편집 과정에서 작업 흐름을 유지할 수 있게 되었다. 아직 사용해본 적이 없다면 <code>:terminal</code>을 입력해보자.</p>
<p>이로써 터미널이라는 새로운 모드가 생기는데, 이 모드를 종료하는 것이 초심자의 과제이다. 여기서는 공식 문서에 설명되어 있는 대로 <code>&lt;esc&gt;</code>를 매핑하였다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;Terminal in Vim</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;:help terminal-emulator-input</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;Exit terminal mode</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>:<span style="color:#a6e22e">tnoremap</span> &lt;<span style="color:#a6e22e">Esc</span>&gt; &lt;<span style="color:#a6e22e">C</span>-\&gt;&lt;<span style="color:#a6e22e">C</span>-<span style="color:#a6e22e">n</span>&gt;<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>만약 자주 사용한다면 아래처럼 창 상단의 일부를 분할하여 터미널로 만들어 쓸 수도 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;New terminal in the top of the active pane</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">nmap</span> <span style="color:#a6e22e">term</span> :<span style="color:#a6e22e">new</span>&lt;<span style="color:#a6e22e">CR</span>&gt;:<span style="color:#a6e22e">wincmd</span> <span style="color:#a6e22e">k</span>&lt;<span style="color:#a6e22e">CR</span>&gt;:<span style="color:#a6e22e">resize</span> <span style="color:#ae81ff">5</span>&lt;<span style="color:#a6e22e">CR</span>&gt;:<span style="color:#a6e22e">terminal</span>&lt;<span style="color:#a6e22e">CR</span>&gt;<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h1 id="첫화면">첫화면</h1>
<p>나는 Vim 에디터를 켰을 때 첫화면에 대해서 다음과 같은 기능을 자동으로 실행하도록 구현하였다.</p>
<ol>
<li>Nerdtree 좌측</li>
<li>MRU 하단</li>
<li>Side Pane 우측</li>
<li>커서는 중앙(편집할 파일이 불려올 창)</li>
</ol>
<p>창이 분할되는 특성상 키를 입력하는 순서가 중요하다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;VimEnter configurations ------------------------------------------------------</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;NOTE: Order is important in this block.</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">MRUOpen</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span>!<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * <span style="color:#a6e22e">MRU</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">END</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">NERDTreeOpen</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span>!<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">  &#34;NERDTree</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * <span style="color:#a6e22e">NERDTree</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">  &#34;To focus edit pane after NERDTree open</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * <span style="color:#a6e22e">wincmd</span> <span style="color:#a6e22e">l</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">END</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">
</span><span style="color:#75715e">&#34;Make a new &#39;Vertical New Pane Side&#39; &amp; back to the main pane</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">SideRightOpen</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">au</span>!<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * :<span style="color:#a6e22e">vnew</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * :<span style="color:#a6e22e">vertical</span> <span style="color:#a6e22e">resize</span> <span style="color:#ae81ff">40</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * :<span style="color:#a6e22e">wincmd</span> <span style="color:#a6e22e">h</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">END</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">
</span><span style="color:#75715e">&#34;END VimEnter configuration ---------------------------------------------------</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>이 소주제을 포함하여 위에서 설명한 설정들을 마치면 아래와 같은 모습이 된다<sup id="fnref:8"><a href="#fn:8" class="footnote-ref" role="doc-noteref">8</a></sup>.</p>
<p><img src="https://wikibootup.github.io/img/vim-edit-screen.png" alt=""></p>
<p>아니면 이런 스타일도 있다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;VimEnter configurations ------------------------------------------------------</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">&#34;NOTE: Order is important in this block.</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">MRUOpen</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span>!<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * <span style="color:#a6e22e">MRU</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * :<span style="color:#a6e22e">wincmd</span> <span style="color:#a6e22e">k</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">END</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span> <span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">NERDTreeOpen</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>   <span style="color:#a6e22e">autocmd</span>!<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">   &#34;NERDTree</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>   <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * <span style="color:#a6e22e">NERDTree</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">   &#34;To focus edit pane after NERDTree open</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>   <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * <span style="color:#a6e22e">wincmd</span> <span style="color:#a6e22e">l</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span> <span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">END</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">
</span><span style="color:#75715e"> &#34;Make a new &#39;Vertical New Pane Side&#39; &amp; back to the main pane</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span> <span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">SideRightOpen</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>   <span style="color:#a6e22e">au</span>!<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>   <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * :<span style="color:#a6e22e">vsp</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>   <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">VimEnter</span> * <span style="color:#a6e22e">wincmd</span> <span style="color:#a6e22e">h</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span> <span style="color:#a6e22e">augroup</span> <span style="color:#a6e22e">END</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">
</span><span style="color:#75715e">&#34;END VimEnter configuration ---------------------------------------------------</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p><img src="https://wikibootup.github.io/img/vim-edit-screen-2.png" alt=""></p>
<h1 id="기타">기타</h1>
<h2 id="기타-설정">기타 설정</h2>
<ul>
<li>Visual mode에서 Yank한 텍스트를 클립보드에도 포함하고 싶다면 <code>set clipboard=unnamedplus</code>을 해주자<sup id="fnref:9"><a href="#fn:9" class="footnote-ref" role="doc-noteref">9</a></sup>. 이러면 클립보드의 버퍼 레지스터가 Yank 쪽으로 붙는다. 아니면 <code>옵션키Option key</code>를 누른 상태에서 복사를 하여 클립보드로 옮기는 방법도 있다.</li>
<li>빈 공백문자(trailing character)와 탭 문자를 표시하려면 아래와 같이 <code>set list</code>를 활용하자.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34;To show space(trail) as ~</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">listchars</span>=<span style="color:#a6e22e">trail</span>:~,<span style="color:#a6e22e">tab</span>:↹\<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">set</span> <span style="color:#a6e22e">list</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><ul>
<li>다음 라인의 공백이 아닌 첫번째 문자로 커서를 이동시키는 것은 <code>+</code>이고 반대는 <code>-</code>인데 무심코 화살표 키로 커서를 이동시키는 것 보다 나은 것 같다.</li>
<li>코드를 작성하다보면 인덴트(들여쓰기)를 줄일이 엄청나게 많은데, 그때마다 입력모드로 바꿔서 탭을 누르는 것보다는 <code>&lt;&lt;</code>, <code>&gt;&gt;</code>을 사용하는게 낫다. 관련 문서를 보면 여러 응용이 가능한데, 예를 들어 <code>5&gt;</code>은 커서를 포함한 라인부터 아래 5줄을 인덴트처리한다. 나의 경우에는 <code>&lt;&lt;</code>을 자주 사용해서 <code>&lt;</code>로 노멀모드 매핑을 해서 사용한다.</li>
<li>다른 훌륭한 에디터들처럼 생각하기 싫은 작업을 (예를 들면, Trailling character를 제거하는 것)을 수동으로 하지말자. 예를 들면, 파일을 열었을 때 혹은 저장할 때(<code>BufWrite</code>) 할 수 있도록 하자.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim"><span style="color:#75715e">&#34; remove the traillings on save</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#a6e22e">autocmd</span> <span style="color:#a6e22e">BufWritePre</span> * %<span style="color:#a6e22e">s</span><span style="color:#e6db74">/\s\+$/</span>/<span style="color:#a6e22e">e</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><ul>
<li>yank를 클립보드에 저장하는 것은 단순히 커맨드라인 모드에서 더하기 기호 하나만 붙여서 <code>:y+</code>를 하자 (클립보드를 가끔 사용한다면).</li>
</ul>
<h2 id="필요에-의한-플러그인">필요에 의한 플러그인</h2>
<p>위의 소주제 <a href="#neovim">NeoVim</a>에서 언급했듯이 Vim을 둘러싼 플러그인들은 1년만 지나도 다른 것들로 대체되는 것들이 많다. 그런 이유로 현재 사용하는 플러그인들에 대해서 자세하게 기록하는 것은 그다지 유용한 생각이 아닌 것 같다. 따라서 시간이 흐른 뒤 남는 것은 &lsquo;어떤 플러그인을 사용했는지&rsquo;가 아니라 &lsquo;어떤 기능이 필요했는지&rsquo;가 되는 것 같다.</p>
<h1 id="epilogue">Epilogue</h1>
<p>지금까지 만났던 Vim에 애정을 갖고 있는 사람들은 모두 기본적으로 개발을 즐기는 사람들이었다. 그들이 어떤 이유로 Vim을 주 에디터로 사용하게 되었는지는 모른다. 단지 그들은 모두 Vim을 진정으로 유용하게 사용하고 있었다. 표본은 적지만 지금까지 경험한 바로 그들은 한 번도 개발이 싫다거나 재미가 없다는 얘기를 하는 경우가 없었다. 정확한 이유는 모르겠다. 하지만 짐작은 가능한데, 바로 Vim을 유용하게 사용하려면 대단한 자발성이 필요하다는 점이다. 현명한 사람들이라면 진작에 이것 말고 더 쿨한 에디터를 사용하지 않겠는가?</p>
<p>하지만 <code>하나의 에디터를 잘 사용하라</code>던 실용주의 프로그래머의 조언은 여기서도 유용하다. 아무리 좋은 도구가 있어도 익숙하지 않으면 제대로 쓰지 못하기 때문이다. Vim은 단순하지만 익숙해질 수록 큰 힘을 발휘하는 에디터이다. 처음에는 단순 암기같은 명령어들이 익숙해지면 머리속에서 하나의 흐름이 되어 유연하게 흘러가게 된다.</p>
<p>결국 코드(텍스트) 에디터를 사용하는 목적은 생각하는 대로 작성하는 것과 미처 생각하지 못했던 것을 발견해주는 데에 있을 것이다. 이것을 미래형으로 생각해보자. 가까운 미래에는 에디터가 사람이 생각하는 대로 컴퓨터가 작성해주는 단계로 발전한다면, 그것보다도 더 미래에는 아예 생각하지 않아도 의도하게 될 것을 알아서 작성해주는 수준으로 발전하지 않을까? 그 때가 되면 어떨지 모르겠지만, 오픈소스의 힘을 입어 Vim이 시대에 적응하면서 계속 발전했으면 좋겠다. 하지만 만일, 그 경쟁에서 도태된다고 해도 Vim을 사용할 때에 필요한 편집모드와 명령어를 활용하는 사고방식은 어딘가에 녹아들어 함께 갔으면 좋겠다.</p>
<ul>
<li>지금까지 설명한 내용은 개인 레포지토리인 <a href="https://github.com/wikibootup/nvimrc">nvimrc</a>에 있다. 그외 유명한 vimrc 레포지토리들이 많으니 검색해보고 참조해보자.</li>
</ul>
<h1 id="reference">Reference</h1>
<p><a href="https://nolboo.kim/practical-vim/">practical-vim</a></p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>김연수, &ldquo;세계의 끝 여자친구&rdquo; 가운데 단편 &ldquo;웃는 듯 우는 듯, 알렉스, 알렉스&rdquo; 중 p226, 문학동네, 2009.09 <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Syntax highlighting 및 Linting, Autocompletion을 포함하여 자동으로 지원한다. 이렇게 의식적으로 세가지를 구분하지 않아도 될만큼 잘 되어있다. <a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>이 중에서도 노멀 모드에서는 콜론(:)으로 주는 옵션들을 결합하여 수많은 기능들을 제공한다. 다른 에디터들이 &lsquo;굳이&rsquo; Vim 모드를 지원하려는 이유가 여기에 있지 않을까, 추측해본다. <a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4" role="doc-endnote">
<p>FZF 또한 rg와 통합해서 사용하고 있다. <a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5" role="doc-endnote">
<p>Zsh을 이용한 자동완성 기능을 이용한다고 가정할 때 매우 편리하다. <a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:6" role="doc-endnote">
<p>만약 Multiple cursor 기능 없이 단어를 검색하며 특정 동작을 반복하고 싶다면 1) 해당 단어를 <code>/</code>, <code>#</code> 등을 이용하여 찾아서 커서를 이동한 뒤, 2) 일단 단어 1개에 대하여 특정 작업을 수행하고, 3) <code>n</code>을 입력하여 다음 단어로 이동한 뒤 <code>.</code>을 입력하여 이전 행동을 수행하는 작업을 반복해야 한다 (즉, <code>3)</code>의 반복). <a href="#fnref:6" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:7" role="doc-endnote">
<p>Nyaovim은 NeoVim을 기본 전제로 구현되어 있다. <a href="#fnref:7" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:8" role="doc-endnote">
<p>이전에는 텍스트에 집중하던 시선이 화면 중앙을 벗어나 개방된 오른쪽으로 빠져 나가는 경험을 종종 했다. 그래서 이것은 가독성이 떨어지는 경험을 개선하고자 취한 조치였다. 물론 여분의 창을 미리 열어두어 나중에 다른 파일을 열기위한 목적도 있기는 하였다. 하지만 그래도 본 목적은 가독성에 있었다. 또한 이전에는 우측창 대신 <a href="https://github.com/majutsushi/tagbar">Tagbar</a>가 그 자리에 위치하여 있었다. 이것은 ctags를 기반으로 하여 코드로부터 클래스, 함수, 변수를 항목(categories)으로 만들어 창에 표시하는 플러그인인데, 추가적인 파일 생성 없이 태그를 동적으로 만드므로 깔끔하고 볼만했다. 다만 아쉽게도 텍스트의 양이 많은 파일을 분석하는 경우 속도 이슈가 발생하여, Vim을 켤 때 자동으로 실행하는 대신 수동으로 실행하도록 변경하였다. <a href="#fnref:8" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:9" role="doc-endnote">
<p>이 기능을 포함하여 다른 좋은 기능들을 위해서는 Vim의 버전이 충분히 높아야 한다. <a href="#fnref:9" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

  </div>
</div>

        <span id="typed"></span>
      </div>
    </div>

    
    
    
    
    
    
    
    
    
    
    
    
    
  </body>
</html>

